webpackJsonp([8],{"V+un":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("oWyI"),l={data:function(){return{username:"",phone:"",tableData:[],total:0,options:[{value:0,label:"普通会员"},{value:1,label:"银卡会员"},{value:2,label:"金卡会员"}]}},methods:{handleCurrentChange:function(e){this.onQueryClick(e)},onQueryClick:function(e){var t=this;this.$http.post("/api/User/UserList",n.a.Encrypt.DataEncryption({UserName:this.username,Phone:this.phone,pageindex:e,pagesize:10})).then(function(e){e.Data&&null!=e.Data&&void 0!=e.Data&&100==e.Status?(t.total=e.Data.TotalItems,t.tableData=e.Data.Items):t.$message(e.Message)},function(e){t.$message(e),console.log(e)})},onMemberlevel:function(e){var t=this;this.$confirm("是否确认修改会员等级?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http.post("/api/User/ModifyMemberlevel",n.a.Encrypt.DataEncryption({UserAccountId:e.UserAccountId,Memberlevel:e.Memberlevel})).then(function(e){e.Data&&null!=e.Data&&void 0!=e.Data&&100==e.Status&&e.Data>0?(t.$message({type:"success",message:"更改成功!"}),t.onQueryClick(1),t.dialogFormVisible=!1):t.$message(e.Message)},function(e){t.$message("请求失败！"),console.log(e)})}).catch(function(){t.$message({type:"info",message:"已取消更改"}),t.onQueryClick(1)})}},mounted:function(){this.onQueryClick(1)}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-body"},[a("div",{staticClass:"page-header"},[a("h1",{staticClass:"page-title"},[e._v("用户管理")]),e._v(" "),a("el-breadcrumb",[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("用户管理")])],1)],1),e._v(" "),a("div",{staticClass:"box"},[a("el-row",[a("el-col",{attrs:{span:8}},[e._v(" 用户名:\n        "),a("m-input",{attrs:{placeholder:"用户名"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),e._v(" "),a("el-col",{attrs:{span:8}},[e._v(" 手机号:\n        "),a("m-input",{attrs:{placeholder:"手机号"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),e._v(" "),a("m-button",{attrs:{type:"info"},on:{click:function(t){e.onQueryClick(1)}}},[e._v("查询")])],1),e._v(" "),a("p"),e._v(" "),a("el-table",{attrs:{data:e.tableData}},[a("el-table-column",{attrs:{label:"#",type:"index"}}),e._v(" "),a("el-table-column",{attrs:{label:"用户名",prop:"UserName"}}),e._v(" "),a("el-table-column",{attrs:{label:"电话",prop:"Phone"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"CreateTime"}}),e._v(" "),a("el-table-column",{attrs:{label:"积分",prop:"Integral"}}),e._v(" "),a("el-table-column",{attrs:{label:"会员等级",prop:"Memberlevel"}})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"total,prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)])},staticRenderFns:[]};var s=a("VU/8")(l,o,!1,function(e){a("Yvld")},null,null);t.default=s.exports},Yvld:function(e,t){}});
//# sourceMappingURL=8.0f81a56dd2db421f6a58.js.map